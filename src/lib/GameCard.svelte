<script lang="ts">
    import type { card_info } from "../types";

    export let card_info: card_info;
</script>

<div class="card mw-100 mx-auto fl hr h-300">
    <img
        src={card_info.thumbnail_url}
        class="card-thumbnails"
        alt={card_info.thumbnail_alt}
    />
    <div class="card-body">
        <h5 class="card-title">{card_info.title}</h5>
        <div class="mb-2">
            {#each card_info.tags as tag}
                <span class="badge {tag.class}">
                    {#if tag.class === "generator"}
                        <svg
                            xmlns="http://www.w3.org/2000/svg"
                            height="14"
                            viewBox="0 -960 960 960"
                            width="14"
                            fill={tag.color}
                        >
                            <path
                                d="M240-160q-33 0-56.5-23.5T160-240q0-33 23.5-56.5T240-320q33 0 56.5 23.5T320-240q0 33-23.5 56.5T240-160Zm240 0q-33 0-56.5-23.5T400-240q0-33 23.5-56.5T480-320q33 0 56.5 23.5T560-240q0 33-23.5 56.5T480-160Zm240 0q-33 0-56.5-23.5T640-240q0-33 23.5-56.5T720-320q33 0 56.5 23.5T800-240q0 33-23.5 56.5T720-160ZM240-400q-33 0-56.5-23.5T160-480q0-33 23.5-56.5T240-560q33 0 56.5 23.5T320-480q0 33-23.5 56.5T240-400Zm240 0q-33 0-56.5-23.5T400-480q0-33 23.5-56.5T480-560q33 0 56.5 23.5T560-480q0 33-23.5 56.5T480-400Zm240 0q-33 0-56.5-23.5T640-480q0-33 23.5-56.5T720-560q33 0 56.5 23.5T800-480q0 33-23.5 56.5T720-400ZM240-640q-33 0-56.5-23.5T160-720q0-33 23.5-56.5T240-800q33 0 56.5 23.5T320-720q0 33-23.5 56.5T240-640Zm240 0q-33 0-56.5-23.5T400-720q0-33 23.5-56.5T480-800q33 0 56.5 23.5T560-720q0 33-23.5 56.5T480-640Zm240 0q-33 0-56.5-23.5T640-720q0-33 23.5-56.5T720-800q33 0 56.5 23.5T800-720q0 33-23.5 56.5T720-640Z"
                            />
                        </svg>
                    {/if}
                    {#if tag.class === "game"}
                        <svg
                            xmlns="http://www.w3.org/2000/svg"
                            height="14"
                            viewBox="0 -960 960 960"
                            width="14"
                            fill={tag.color}
                        >
                            <path
                                d="M182-200q-51 0-79-35.5T82-322l42-300q9-60 53.5-99T282-760h396q60 0 104.5 39t53.5 99l42 300q7 51-21 86.5T778-200q-21 0-39-7.5T706-230l-90-90H344l-90 90q-15 15-33 22.5t-39 7.5Zm16-86 114-114h336l114 114q2 2 16 6 11 0 17.5-6.5T800-304l-44-308q-4-29-26-48.5T678-680H282q-30 0-52 19.5T204-612l-44 308q-2 11 4.5 17.5T182-280q2 0 16-6Zm482-154q17 0 28.5-11.5T720-480q0-17-11.5-28.5T680-520q-17 0-28.5 11.5T640-480q0 17 11.5 28.5T680-440Zm-80-120q17 0 28.5-11.5T640-600q0-17-11.5-28.5T600-640q-17 0-28.5 11.5T560-600q0 17 11.5 28.5T600-560ZM310-440h60v-70h70v-60h-70v-70h-60v70h-70v60h70v70Zm170-40Z"
                            />
                        </svg>
                    {/if}
                    {#if tag.class === "tool"}
                        <svg
                            xmlns="http://www.w3.org/2000/svg"
                            height="14"
                            viewBox="0 -960 960 960"
                            width="14"
                            fill={tag.color}
                        >
                            <path
                                d="M705-128 447-388q-23 8-46 13t-47 5q-97.083 0-165.042-67.667Q121-505.333 121-602q0-31 8.158-60.388Q137.316-691.777 152-718l145 145 92-86-149-149q25.915-15.158 54.957-23.579Q324-840 354-840q99.167 0 168.583 69.417Q592-701.167 592-602q0 24-5 47t-13 46l259 258q11 10.957 11 26.478Q844-209 833-198l-76 70q-10.696 11-25.848 11T705-128Zm28-57 40-40-273-273q16-21 24-49.5t8-54.5q0-75-55.5-127T350-782l102 104q9 9 8.5 21.5T451-635L318-510q-9.273 8-21.636 8Q284-502 276-510l-98-97q3 77 54.668 127T354-430q25 0 53-8t49-24l277 277ZM476-484Z"
                            />
                        </svg>
                    {/if}

                    {tag.name}</span
                >
            {/each}
        </div>
        <p class="card-text o-i h-150">
            {card_info.description}
        </p>
        <a href={card_info.url} class="btn btn-primary icon-link">
            <svg
                fill="#fff"
                xmlns="http://www.w3.org/2000/svg"
                height="24"
                viewBox="0 -960 960 960"
                width="24"
            >
                <path
                    d="M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h280v80H200v560h560v-280h80v280q0 33-23.5 56.5T760-120H200Zm188-212-56-56 372-372H560v-80h280v280h-80v-144L388-332Z"
                />
            </svg>
            開く
        </a>
    </div>
</div>

<style lang="scss" scoped>
    .card-text {
        white-space: pre-wrap;
        text-align: left;
    }
</style>
